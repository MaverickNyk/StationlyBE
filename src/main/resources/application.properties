# =================================================================
# General Application & Server Settings
# =================================================================
spring.application.name=stationly-backend
spring.threads.virtual.enabled=true

server.port=8080
# Forwarded Headers for HTTP/HTTPS support
server.forward-headers-strategy=native
# Application Context Path (Servlet)
server.servlet.context-path=/StationlyBE

# Logging
logging.level.com.stationly=INFO

# =================================================================
# TFL API & Polling Configuration
# =================================================================
# TFL API Configuration
# Override this using environment variable TFL_APP_KEY
tfl.app.key=${TFL_APP_KEY:default_key}

# TFL Polling Configuration
tfl.transport.modes=${TFL_TRANSPORT_MODES:tube,overground,dlr}
tfl.polling.interval=${TFL_POLLING_INTERVAL:1h}
# How many predictions to fetch for arrivals -1 returns all
tfl.arrival.prediction.count=${TFL_ARRIVAL_PREDICTION_COUNT:-1}
tfl.api.timeout=${TFL_API_TIMEOUT:30}

# Line Status Polling Configuration only for local development
tfl.status.polling.interval=${TFL_STATUS_POLLING_INTERVAL:1m}

# =================================================================
# Firebase (FCM & Firestore) Configuration
# =================================================================
# FCM Configuration (for push notifications)
# For local development: use file path
fcm.service-account-path=${FCM_SERVICE_ACCOUNT_PATH:}

# Firestore Configuration
# Credentials are reused from FCM configuration (fcm.service-account-path/json)
firestore.project-id=${FIRESTORE_PROJECT_ID:test-fcm2-d3771}

# =================================================================
# OCI Monitoring Configuration
# =================================================================
# Enabled only if oci.monitoring.enabled=true and compartment-id is set
oci.monitoring.enabled=${OCI_MONITORING_ENABLED:false}
oci.monitoring.compartment-id=${OCI_MONITORING_COMPARTMENT_ID:}
oci.monitoring.namespace=${OCI_MONITORING_NAMESPACE:stationly_polling}

# =================================================================
# API Documentation (Scalar / SpringDoc)
# =================================================================
# Scalar API Documentation
springdoc.scalar.enabled=true
scalar.path=/docs
springdoc.scalar.url=/docs-json
springdoc.api-docs.path=/docs-json
springdoc.packages-to-scan=com.stationly.backend
springdoc.show-actuator=true

# =================================================================
# Maintenance & Sync Tasks
# =================================================================
# Station Sync Configuration
# Set to run at 2:00 AM on the first Monday of every month
station.sync.cron=${STATION_SYNC_CRON:0 0 2 ? * MON#1}