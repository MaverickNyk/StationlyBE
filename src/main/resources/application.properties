# =================================================================
# General Application & Server Settings
# =================================================================
spring.application.name=stationly-backend
spring.threads.virtual.enabled=true

server.port=8080
# Forwarded Headers for HTTP/HTTPS support
server.forward-headers-strategy=native
# Application Context Path (Servlet)
server.servlet.context-path=/StationlyBE

# Logging
logging.level.com.stationly=INFO

# =================================================================
# TFL API & Polling Configuration
# =================================================================
# TFL API Configuration
# Override this using environment variable TFL_APP_KEY
tfl.app.key=${TFL_APP_KEY:default_key}

# TFL Polling Configuration
tfl.transport.modes=${TFL_TRANSPORT_MODES:tube,overground,dlr}
tfl.polling.interval=${TFL_POLLING_INTERVAL:1h}
# How many predictions to fetch for arrivals -1 returns all
tfl.arrival.prediction.count=${TFL_ARRIVAL_PREDICTION_COUNT:-1}
tfl.api.timeout=${TFL_API_TIMEOUT:30}

# Line Status Polling Configuration only for local development
tfl.status.polling.interval=${TFL_STATUS_POLLING_INTERVAL:1h}

# =================================================================
# Firebase (FCM & Firestore) Configuration
# =================================================================
# FCM Configuration (for push notifications)
# For local development: use file path
fcm.service-account-path=${FCM_SERVICE_ACCOUNT_PATH:}
# For Lambda/production: use JSON string
fcm.service-account-json=${FCM_SERVICE_ACCOUNT_JSON:{"type":"service_account","project_id":"test-fcm-d425a","private_key_id":"baecfeb536fca9c5293c9d111ccdfafa325e20cb","private_key":"-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDg8BAaKDN6Nu0q\nodf/JHgAGz30+CUPZt1WNSlx4IcI69Fb6IT0X3usIau8KK/oC7B0P6hnW8rEjc1j\nqj1Mwi8JSTEzKV8ap8Vmv0PHV98sFH1zTONchGxlX/5vqi7EG0Rukq6idkx4lduB\neeesXT2za21nRK9C++o6gqxdQc1xlrDLI45GhuQrVCbJZ3xDAgJHl9TNWSfr1kDU\nYnaLEf/8K2IBhgGIShqzn3sVeb2CZcvg9OHbmgHBTMbR6Bb+JhjW+Vkxkmgc1HnE\n3sHxlf6UsAMLZS1XjCGS+g+f7XbsMjRQEUz1gWA5duo6DdxwpS6f4nFpLQwuekK7\nrXwqsLjzAgMBAAECggEADI76pys1bI5igW3VzGXx2TesJuAv2YNJukVvke8SOvpH\njxUVTzuBgSPEHdY7s/3rFSJ0uYiTcpPkMrtPfticna0bdRrLN4bEa68kDp4mVKS0\OFrDmue90Y8heoSK5eIL2QyReXqXXGgpgDoZKDNwfXLzAcAA9QFxm2CuVOqWmM/R\nMrkYHcT5ExGF9fbCw5WPUJmgERlt7YaTs3C0yM6D7gf6yXMyZutkCdRcwiJ9Opl7\+Vpx84n+cCDcDS8jEaedNVuaUMK9jUEzf84qaDu9R6j26d4f7givnk9Ft8OtckkN\n2ap18F6e14ZQpbtJCLb5+f7TQXRuzYD7WFcfR+zneQKBgQD2x4qjOT32zh56kA8h\J22WPVS4fLV7AwJ5CTEp4Y6ABYHeActPrsmMaqgQzXuy8yLMHS3L5FyZTpQiRY07\REU9dZp4lHVvJh6Jlb7J07awBfByRk0j6rc3w9bd4+N4QfYu9nkfrxbRQk6nzKR/\n+iuGzX0BuqpB1RlRqRad8o46vwKBgQDpV5qts90xXd4TP2GuIaTe6RpqIn+AfDUD\n5Fnu37cVBQLfe39gDZH62r6QGOORuYpSnTKreyBxvq6OKBUn7pVx4Dq6hxIJRAnp\nrUtVElFiDLy6D4iNyWvrxLhtM6aPfni9lgWhAhd+7vXffo69FW8K5L2k1chjFgSZ\nYnTAeyXSzQKBgQDHkkfECJ7b4YU0iRwzK7esMJ07NV9uw9hUGeLwg8DCN7H24GyT\XD8Sl46jSAophgc2GsLWiS95q9qQfL7ilyuHsHvj1+vAn4tCqR9KCTVM1QDG6aOo\n0ECrkG1LtOhYcL+u6xS5UteZE46YlR7TgHWC5tuZcmQOKU/4gk4QHgB38QKBgCHu\nZUXBE/cryTFPVCr4JXtstjSc06Ghbiwktpcv3PWnhuVslfcnwgSSboeRtvXn3x9o\nUIfzHaKsscFmPr1RylWG38NkBNFoHXDnjD7QrRju9TqxK5BCq/ja4F6w1hWjtHcN\nK8BgB36jzQk05BjG1yDkZldj5wHRn9WWJZgf0D45AoGAMxnTX9oXuDI7xG2+cp3b\nMpOrU7PNUypJba34n19A9aYuxHLiS74UmiYFqCYv8x45grTLw6oMxZpEKI/rRwHv\niZMHPdRKbYqdCd4Cam2jpSrZoywSEn2mkXUP8saeNB/o41eHj5dxSFJW/odpfsoP\nNfh71b1xYoRQOxBM54gIzDM=\n-----END PRIVATE KEY-----\n","client_email":"firebase-adminsdk-fbsvc@test-fcm-d425a.iam.gserviceaccount.com","client_id":"116279195937867961742","auth_uri":"https://accounts.google.com/o/oauth2/auth","token_uri":"https://oauth2.googleapis.com/token","auth_provider_x509_cert_url":"https://www.googleapis.com/oauth2/v1/certs","client_x509_cert_url":"https://www.googleapis.com/robot/v1/metadata/x509/firebase-adminsdk-fbsvc%40test-fcm-d425a.iam.gserviceaccount.com","universe_domain":"googleapis.com"}}

# Firestore Configuration
# Credentials are reused from FCM configuration (fcm.service-account-path/json)
firestore.project-id=${FIRESTORE_PROJECT_ID:test-fcm2-d3771}

# =================================================================
# OCI Monitoring Configuration
# =================================================================
# Enabled only if oci.monitoring.enabled=true and compartment-id is set
oci.monitoring.enabled=${OCI_MONITORING_ENABLED:false}
oci.monitoring.compartment-id=${OCI_MONITORING_COMPARTMENT_ID:}
oci.monitoring.namespace=${OCI_MONITORING_NAMESPACE:stationly_polling}

# =================================================================
# API Documentation (Scalar / SpringDoc)
# =================================================================
# Scalar API Documentation
springdoc.scalar.enabled=true
scalar.path=/docs
springdoc.scalar.url=/docs-json
springdoc.api-docs.path=/docs-json
springdoc.packages-to-scan=com.stationly.backend
springdoc.show-actuator=true

# =================================================================
# Maintenance & Sync Tasks
# =================================================================
# Station Sync Configuration
# Default: Every 30 days (Run at midnight) -> "0 0 0 */30 * *" is roughly every 30 days.
# Or simpler: "0 0 0 1 * ?" (Monthly)
station.sync.cron=${STATION_SYNC_CRON:0 0 2 * * ?}